"use strict";(self["webpackChunkvue_api_impl"]=self["webpackChunkvue_api_impl"]||[]).push([[672],{7672:function(e,r,o){o.r(r),o.d(r,{default:function(){return n}});var s=o(3396);const a=(0,s.Uk)("确认"),l=(0,s.Uk)("返回");function d(e,r,o,d,m,i){const t=(0,s.up)("el-input"),u=(0,s.up)("el-form-item"),n=(0,s.up)("base-button"),w=(0,s.up)("el-form"),f=(0,s.up)("base-card");return(0,s.wg)(),(0,s.j4)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{model:m.form,rules:i.rules,ref:"form","label-width":"80px"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{label:"旧密码",prop:"oldPassword"},{default:(0,s.w5)((()=>[(0,s.Wm)(t,{modelValue:m.form.oldPassword,"onUpdate:modelValue":r[0]||(r[0]=e=>m.form.oldPassword=e),modelModifiers:{trim:!0},type:"password"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(u,{label:"新密码",prop:"newPassword"},{default:(0,s.w5)((()=>[(0,s.Wm)(t,{modelValue:m.form.newPassword,"onUpdate:modelValue":r[1]||(r[1]=e=>m.form.newPassword=e),modelModifiers:{trim:!0},type:"password"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(u,{label:"确认密码",prop:"confirmPassword"},{default:(0,s.w5)((()=>[(0,s.Wm)(t,{modelValue:m.form.confirmPassword,"onUpdate:modelValue":r[2]||(r[2]=e=>m.form.confirmPassword=e),modelModifiers:{trim:!0},type:"password"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(n,{onClick:i.submitForm,loading:m.isLoading},{default:(0,s.w5)((()=>[a])),_:1},8,["onClick","loading"]),(0,s.Wm)(n,{mode:"outline",onClick:r[3]||(r[3]=r=>{e.$router.go(-1)})},{default:(0,s.w5)((()=>[l])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})}o(1703);var m=o(7178),i={data(){return{form:{oldPassword:"",newPassword:"",confirmPassword:""},isLoading:!1}},computed:{rules(){return{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"},{max:100,message:"旧密码最多 100 个字符",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{max:100,message:"新密码最多 100 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{max:100,message:"确认密码最多 100 个字符",trigger:"blur"},{validator:this.validateConfirmPassword,trigger:"blur"}]}}},methods:{validateConfirmPassword(e,r,o){r&&this.form.newPassword&&r!==this.form.newPassword?o(new Error("确认密码与新密码输入不匹配")):o()},submitForm(){this.$refs.form.validate((async e=>{if(e){this.isLoading=!0;try{await this.$store.dispatch("auth/changePassword",this.form)}catch(r){(0,m.z8)({showClose:!0,message:r.message,type:"error"})}finally{this.isLoading=!1}}}))}}},t=o(89);const u=(0,t.Z)(i,[["render",d],["__scopeId","data-v-276c4f32"]]);var n=u}}]);
//# sourceMappingURL=672.1c411079.js.map