"use strict";(self["webpackChunkvue_api_impl"]=self["webpackChunkvue_api_impl"]||[]).push([[222],{4222:function(e,r,a){a.r(r),a.d(r,{default:function(){return p}});a(1703);var l=a(3396),s=a(7178),o=a(5163),d=a(4870),u=a(65);const t=(0,l.Uk)("确认"),m=(0,l.Uk)("返回");var i={__name:"ChangePasswordView",setup(e){(0,o.Kf)({title:"修改密码"});const r=(0,d.qj)({oldPassword:"",newPassword:"",confirmPassword:""}),a=(0,d.iH)(null),i=(e,r,l)=>{r&&a.value.newPassword&&r!==this.form.newPassword?l(new Error("确认密码与新密码输入不匹配")):l()},n=(0,d.qj)({oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"},{max:100,message:"旧密码最多 100 个字符",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{max:100,message:"新密码最多 100 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{max:100,message:"确认密码最多 100 个字符",trigger:"blur"},{validator:i,trigger:"blur"}]}),w=(0,d.iH)(!1),p=(0,u.oR)(),f=()=>{a.value.validate((async e=>{if(e){w.value=!0;try{await p.dispatch("auth/changePassword",r)}catch(a){(0,s.z8)({showClose:!0,message:a.message,type:"error"})}finally{w.value=!1}}}))};return(e,s)=>{const o=(0,l.up)("el-input"),d=(0,l.up)("el-form-item"),u=(0,l.up)("base-button"),i=(0,l.up)("el-form"),p=(0,l.up)("base-card");return(0,l.wg)(),(0,l.j4)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,{model:r,rules:n,ref_key:"formRef",ref:a,"label-width":"80px"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{label:"旧密码",prop:"oldPassword"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{modelValue:r.oldPassword,"onUpdate:modelValue":s[0]||(s[0]=e=>r.oldPassword=e),modelModifiers:{trim:!0},type:"password"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(d,{label:"新密码",prop:"newPassword"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{modelValue:r.newPassword,"onUpdate:modelValue":s[1]||(s[1]=e=>r.newPassword=e),modelModifiers:{trim:!0},type:"password"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(d,{label:"确认密码",prop:"confirmPassword"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{modelValue:r.confirmPassword,"onUpdate:modelValue":s[2]||(s[2]=e=>r.confirmPassword=e),modelModifiers:{trim:!0},type:"password"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{onClick:f,loading:w.value},{default:(0,l.w5)((()=>[t])),_:1},8,["loading"]),(0,l.Wm)(u,{mode:"outline",onClick:s[3]||(s[3]=r=>{e.$router.go(-1)})},{default:(0,l.w5)((()=>[m])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})}}},n=a(89);const w=(0,n.Z)(i,[["__scopeId","data-v-d1f1e8e6"]]);var p=w}}]);
//# sourceMappingURL=222.a1b0909f.js.map